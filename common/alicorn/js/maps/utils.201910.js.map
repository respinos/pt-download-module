{"version":3,"sources":["head.js","main.js"],"names":["win","undefined","doc","document","nav","navigator","loc","location","html","documentElement","klass","conf","screens","screensCss","gt","gte","lt","lte","eq","browsers","ie","min","max","browserCss","html5","page","section","head","head_conf","item","pushClass","name","length","removeClass","re","RegExp","className","replace","each","arr","fn","i","l","call","api","ready","apply","arguments","feature","key","enabled","queue","Object","prototype","toString","join","ua","userAgent","toLowerCase","mobile","test","browser","exec","version","parseFloat","documentMode","v","screenSize","iw","innerWidth","clientWidth","ow","outerWidth","screen","width","ih","innerHeight","clientHeight","oh","outerHeight","height","parseInt","split","el","createElement","pathname","id","index","this","slice","indexOf","substring","resizeId","onResize","clearTimeout","setTimeout","addEventListener","attachEvent","window","style","prefs","domPrefs","headVar","testAll","prop","camel","charAt","toUpperCase","substr","props","testProps","tests","gradient","s1","cssText","backgroundImage","rgba","backgroundColor","opacity","textshadow","textShadow","multiplebgs","result","background","match","boxshadow","borderimage","borderradius","cssreflections","csstransforms","csstransitions","touch","retina","devicePixelRatio","fontface","isDomReady","domWaiters","handlers","assets","isAsync","opera","PRELOADING","PRELOADED","LOADING","LOADED","noop","callback","_typeof","is","type","obj","clas","isFunction","isArray","one","_done","getAsset","items","asset","label","url","existing","allLoaded","hasOwnProperty","state","preLoad","onpreload","loadAsset","afterPreload","load","ALL","push","error","event","ele","onload","onreadystatechange","onerror","process","readyState","errorTimeout","cssTimeout","rel","href","cssRetries","isCssLoaded","styleSheets","src","async","defer","getElementsByTagName","insertBefore","lastChild","domReady","body","readyTimeout","dataMain","getAttribute","init","domContentLoaded","removeEventListener","detachEvent","top","frameElement","e","doScroll","doScrollCheck","js","args","rest","next","success","failure","passed","console","log","Element","matches","msMatchesSelector","webkitMatchesSelector","closest","s","parentElement","parentNode","nodeType","NodeList","forEach","thisArg","docCookies","getItem","sKey","decodeURIComponent","cookie","encodeURIComponent","setItem","sValue","vEnd","sPath","sDomain","bSecure","sExpires","constructor","Number","Infinity","String","Date","toUTCString","removeItem","hasItem","keys","aKeys","nLen","nIdx","HT","prefix","jQuery","old_jQuery","service_domain","catalog_domain","www_domain","babel_prefix","$rootStatus","lastMessage","lastTimer","hostname","is_dev","is_babel","tmp","entityId","target","pong_target","redirect_href","pop","querySelector","history","replaceState","title","get","JSON","parse","set","params","assign","expires","setDate","getDate","stringify","scripts","update_status","message","$status","bootbox","active","modal","_update_status","clearDelay","debug","innerText","__get_vh","vh","visualViewport","scale","setProperty","lastwh","tx","setInterval","t","createEvent","initEvent","dispatchEvent","utils","handleOrientationChange","timeout","disableUnloadTimeout","beforeUnloadTimeout","div","classList","add","appendChild","removeChild"],"mappings":"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","file":"../utils.201910.js","sourcesContent":["///#source 1 1 /src/1.0.0/core.js\n/*! head.core - v1.0.2 */\n/*\n * HeadJS     The only script in your <HEAD>\n * Author     Tero Piirainen  (tipiirai)\n * Maintainer Robert Hoffmann (itechnology)\n * License    MIT / http://bit.ly/mit-license\n * WebSite    http://headjs.com\n */\n(function(win, undefined) {\n    \"use strict\";\n\n    // gt, gte, lt, lte, eq breakpoints would have been more simple to write as ['gt','gte','lt','lte','eq']\n    // but then we would have had to loop over the collection on each resize() event,\n    // a simple object with a direct access to true/false is therefore much more efficient\n    var doc   = win.document,\n        nav   = win.navigator,\n        loc   = win.location,\n        html  = doc.documentElement,\n        klass = [],\n        conf  = {\n            screens   : [240, 320, 480, 640, 768, 800, 1024, 1280, 1440, 1680, 1920],\n            screensCss: { \"gt\": true, \"gte\": false, \"lt\": true, \"lte\": false, \"eq\": false },\n            browsers  : [\n                            { ie: { min: 6, max: 11 } }\n                           //,{ chrome : { min: 8, max: 33 } }\n                           //,{ ff     : { min: 3, max: 26 } }\n                           //,{ ios    : { min: 3, max:  7 } }\n                           //,{ android: { min: 2, max:  4 } }\n                           //,{ webkit : { min: 9, max: 12 } }\n                           //,{ opera  : { min: 9, max: 12 } }\n            ],\n            browserCss: { \"gt\": true, \"gte\": false, \"lt\": true, \"lte\": false, \"eq\": true },\n            html5     : true,\n            page      : \"-page\",\n            section   : \"-section\",\n            head      : \"head\"\n        };\n\n    if (win.head_conf) {\n        for (var item in win.head_conf) {\n            if (win.head_conf[item] !== undefined) {\n                conf[item] = win.head_conf[item];\n            }\n        }\n    }\n\n    function pushClass(name) {\n        klass[klass.length] = name;\n    }\n\n    function removeClass(name) {\n        // need to test for both space and no space\n        // https://github.com/headjs/headjs/issues/270\n        // https://github.com/headjs/headjs/issues/226\n        var re = new RegExp(\" ?\\\\b\" + name + \"\\\\b\");\n        html.className = html.className.replace(re, \"\");\n    }\n\n    function each(arr, fn) {\n        for (var i = 0, l = arr.length; i < l; i++) {\n            fn.call(arr, arr[i], i);\n        }\n    }\n\n    // API\n    var api = win[conf.head] = function() {\n        api.ready.apply(null, arguments);\n    };\n\n    api.feature = function(key, enabled, queue) {\n\n        // internal: apply all classes\n        if (!key) {\n            html.className += \" \" + klass.join(\" \");\n            klass = [];\n\n            return api;\n        }\n\n        if (Object.prototype.toString.call(enabled) === \"[object Function]\") {\n            enabled = enabled.call();\n        }\n\n        pushClass((enabled ? \"\" : \"no-\") + key);\n        api[key] = !!enabled;\n\n        // apply class to HTML element\n        if (!queue) {\n            removeClass(\"no-\" + key);\n            removeClass(key);\n            api.feature();\n        }\n\n        return api;\n    };\n\n    // no queue here, so we can remove any eventual pre-existing no-js class\n    api.feature(\"js\", true);\n\n    // browser type & version\n    var ua     = nav.userAgent.toLowerCase(),\n        mobile = /mobile|android|kindle|silk|midp|phone|(windows .+arm|touch)/.test(ua);\n\n    // useful for enabling/disabling feature (we can consider a desktop navigator to have more cpu/gpu power)\n    api.feature(\"mobile\" , mobile , true);\n    api.feature(\"desktop\", !mobile, true);\n\n    // http://www.zytrax.com/tech/web/browser_ids.htm\n    // http://www.zytrax.com/tech/web/mobile_ids.html\n    ua = /(chrome|firefox)[ \\/]([\\w.]+)/.exec(ua) || // Chrome & Firefox\n        /(iphone|ipad|ipod)(?:.*version)?[ \\/]([\\w.]+)/.exec(ua) || // Mobile IOS\n        /(android)(?:.*version)?[ \\/]([\\w.]+)/.exec(ua) || // Mobile Webkit\n        /(webkit|opera)(?:.*version)?[ \\/]([\\w.]+)/.exec(ua) || // Safari & Opera\n        /(msie) ([\\w.]+)/.exec(ua) ||\n        /(trident).+rv:(\\w.)+/.exec(ua) || [];\n\n    var browser = ua[1],\n        version = parseFloat(ua[2]);\n\n    switch (browser) {\n    case \"msie\":\n    case \"trident\":\n        browser = \"ie\";\n        version = doc.documentMode || version;\n        break;\n        \n    case \"firefox\":\n        browser = \"ff\";\n        break;\n        \n    case \"ipod\":\n    case \"ipad\":\n    case \"iphone\":\n        browser = \"ios\";\n        break;\n        \n    case \"webkit\":\n        browser = \"safari\";\n        break;\n    }\n\n    // Browser vendor and version\n    api.browser = {\n        name: browser,\n        version: version\n    };\n    api.browser[browser] = true;\n\n    for (var i = 0, l = conf.browsers.length; i < l; i++) {\n        for (var key in conf.browsers[i]) {\n            if (browser === key) {\n                pushClass(key);\n\n                var min = conf.browsers[i][key].min;\n                var max = conf.browsers[i][key].max;\n\n                for (var v = min; v <= max; v++) {\n                    if (version > v) {\n                        if (conf.browserCss.gt) {\n                            pushClass(\"gt-\" + key + v);\n                        }\n\n                        if (conf.browserCss.gte) {\n                            pushClass(\"gte-\" + key + v);\n                        }\n                    } else if (version < v) {\n                        if (conf.browserCss.lt) {\n                            pushClass(\"lt-\" + key + v);\n                        }\n\n                        if (conf.browserCss.lte) {\n                            pushClass(\"lte-\" + key + v);\n                        }\n                    } else if (version === v) {\n                        if (conf.browserCss.lte) {\n                            pushClass(\"lte-\" + key + v);\n                        }\n\n                        if (conf.browserCss.eq) {\n                            pushClass(\"eq-\" + key + v);\n                        }\n\n                        if (conf.browserCss.gte) {\n                            pushClass(\"gte-\" + key + v);\n                        }\n                    }\n                }\n            } else {\n                pushClass(\"no-\" + key);\n            }\n        }\n    }\n\n    pushClass(browser);\n    pushClass(browser + parseInt(version, 10));\n\n    // IE lt9 specific\n    if (conf.html5 && browser === \"ie\" && version < 9) {\n        // HTML5 support : you still need to add html5 css initialization styles to your site\n        // See: assets/html5.css\n        each(\"abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|progress|section|summary|time|video\".split(\"|\"), function(el) {\n            doc.createElement(el);\n        });\n    }\n\n    // CSS \"router\"\n    each(loc.pathname.split(\"/\"), function(el, i) {\n        if (this.length > 2 && this[i + 1] !== undefined) {\n            if (i) {\n                pushClass(this.slice(i, i + 1).join(\"-\").toLowerCase() + conf.section);\n            }\n        } else {\n            // pageId\n            var id = el || \"index\", index = id.indexOf(\".\");\n            if (index > 0) {\n                id = id.substring(0, index);\n            }\n\n            html.id = id.toLowerCase() + conf.page;\n\n            // on root?\n            if (!i) {\n                pushClass(\"root\" + conf.section);\n            }\n        }\n    });\n\n    // basic screen info\n    api.screen = {\n        height: win.screen.height,\n        width : win.screen.width\n    };\n\n    // viewport resolutions: w-100, lt-480, lt-1024 ...\n    function screenSize() {\n        // remove earlier sizes\n        html.className = html.className.replace(/ (w-|eq-|gt-|gte-|lt-|lte-|portrait|no-portrait|landscape|no-landscape)\\d+/g, \"\");\n\n        // Viewport width\n        var iw = win.innerWidth || html.clientWidth,\n            ow = win.outerWidth || win.screen.width;\n\n        api.screen.innerWidth = iw;\n        api.screen.outerWidth = ow;\n\n        // for debugging purposes, not really useful for anything else\n        pushClass(\"w-\" + iw);\n\n        each(conf.screens, function(width) {\n            if (iw > width) {\n                if (conf.screensCss.gt) {\n                    pushClass(\"gt-\" + width);\n                }\n\n                if (conf.screensCss.gte) {\n                    pushClass(\"gte-\" + width);\n                }\n            } else if (iw < width) {\n                if (conf.screensCss.lt) {\n                    pushClass(\"lt-\" + width);\n                }\n\n                if (conf.screensCss.lte) {\n                    pushClass(\"lte-\" + width);\n                }\n            } else if (iw === width) {\n                if (conf.screensCss.lte) {\n                    pushClass(\"lte-\" + width);\n                }\n\n                if (conf.screensCss.eq) {\n                    pushClass(\"e-q\" + width);\n                }\n\n                if (conf.screensCss.gte) {\n                    pushClass(\"gte-\" + width);\n                }\n            }\n        });\n\n        // Viewport height\n        var ih = win.innerHeight || html.clientHeight,\n            oh = win.outerHeight || win.screen.height;\n\n        api.screen.innerHeight = ih;\n        api.screen.outerHeight = oh;\n\n        // no need for onChange event to detect this\n        api.feature(\"portrait\" , (ih > iw));\n        api.feature(\"landscape\", (ih < iw));\n    }\n\n    screenSize();\n\n    // Throttle navigators from triggering too many resize events\n    var resizeId = 0;\n\n    function onResize() {\n        win.clearTimeout(resizeId);\n        resizeId = win.setTimeout(screenSize, 50);\n    }\n\n    // Manually attach, as to not overwrite existing handler\n    if (win.addEventListener) {\n        win.addEventListener(\"resize\", onResize, false);\n\n    } else {\n        // IE8 and less\n        win.attachEvent(\"onresize\", onResize);\n    }\n}(window));\n///#source 1 1 /src/1.0.0/css3.js\n/*! head.css3 - v1.0.0 */\n/*\n * HeadJS     The only script in your <HEAD>\n * Author     Tero Piirainen  (tipiirai)\n * Maintainer Robert Hoffmann (itechnology)\n * License    MIT / http://bit.ly/mit-license\n * WebSite    http://headjs.com\n */\n(function (win, undefined) {\n    \"use strict\";\n\n    var doc = win.document,\n        /*\n            To add a new test:\n\n            head.feature(\"video\", function() {\n                var tag = document.createElement('video');\n                return !!tag.canPlayType;\n            });\n\n            Good place to grab more tests\n\n            https://github.com/Modernizr/Modernizr/blob/master/modernizr.js\n        */\n\n        /* CSS modernizer */\n        el       = doc.createElement(\"i\"),\n        style    = el.style,\n        prefs    = \" -o- -moz- -ms- -webkit- -khtml- \".split(\" \"),\n        domPrefs = \"Webkit Moz O ms Khtml\".split(\" \"),\n        headVar  = win.head_conf && win.head_conf.head || \"head\",\n        api      = win[headVar];\n\n    // Thanks Paul Irish!\n\n    function testProps(props) {\n        for (var i in props) {\n            if (style[props[i]] !== undefined) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n\n    function testAll(prop) {\n        var camel = prop.charAt(0).toUpperCase() + prop.substr(1),\n            props = (prop + \" \" + domPrefs.join(camel + \" \") + camel).split(\" \");\n\n        return !!testProps(props);\n    }\n\n    var tests = {\n        // should we seperate linear/radial ? \n        // seems like some browsers need a test for prefix http://caniuse.com/#feat=css-gradients\n        gradient: function () {\n            var s1 = \"background-image:\",\n                s2 = \"gradient(linear,left top,right bottom,from(#9f9),to(#fff));\",\n                s3 = \"linear-gradient(left top,#eee,#fff);\";\n\n            style.cssText = (s1 + prefs.join(s2 + s1) + prefs.join(s3 + s1)).slice(0, -s1.length);\n            return !!style.backgroundImage;\n        },\n\n        rgba: function () {\n            style.cssText = \"background-color:rgba(0,0,0,0.5)\";\n            return !!style.backgroundColor;\n        },\n\n        opacity: function () {\n            return el.style.opacity === \"\";\n        },\n\n        textshadow: function () {\n            return style.textShadow === \"\";\n        },\n\n        multiplebgs: function () {\n            style.cssText = \"background:url(https://),url(https://),red url(https://)\";\n\n            // If the UA supports multiple backgrounds, there should be three occurrences\n            // of the string \"url(\" in the return value for elemStyle.background\n            var result = (style.background || \"\").match(/url/g);\n\n            return Object.prototype.toString.call(result) === \"[object Array]\" && result.length === 3;\n        },\n\n        boxshadow: function () {\n            return testAll(\"boxShadow\");\n        },\n\n        borderimage: function () {\n            return testAll(\"borderImage\");\n        },\n\n        borderradius: function () {\n            return testAll(\"borderRadius\");\n        },\n\n        cssreflections: function () {\n            return testAll(\"boxReflect\");\n        },\n\n        csstransforms: function () {\n            return testAll(\"transform\");\n        },\n\n        csstransitions: function () {\n            return testAll(\"transition\");\n        },\n        touch: function () {\n            return \"ontouchstart\" in win;\n        },\n        retina: function () {\n            return (win.devicePixelRatio > 1);\n        },\n\n        /*\n            font-face support. Uses browser sniffing but is synchronous.\n            http://paulirish.com/2009/font-face-feature-detection/\n        */\n        fontface: function () {\n            var browser = api.browser.name, version = api.browser.version;\n\n            switch (browser) {\n                case \"ie\":\n                    return version >= 9;\n                    \n                case \"chrome\":\n                    return version >= 13;\n                    \n                case \"ff\":\n                    return version >= 6;\n                    \n                case \"ios\":\n                    return version >= 5;\n\n                case \"android\":\n                    return false;\n\n                case \"webkit\":\n                    return version >= 5.1;\n                    \n                case \"opera\":\n                    return version >= 10;\n                    \n                default:\n                    return false;\n            }\n        }\n    };\n\n    // queue features\n    for (var key in tests) {\n        if (tests[key]) {\n            api.feature(key, tests[key].call(), true);\n        }\n    }\n\n    // enable features at once\n    api.feature();\n\n}(window));\n///#source 1 1 /src/1.0.0/load.js\n/*! head.load - v1.0.3 */\n/*\n * HeadJS     The only script in your <HEAD>\n * Author     Tero Piirainen  (tipiirai)\n * Maintainer Robert Hoffmann (itechnology)\n * License    MIT / http://bit.ly/mit-license\n * WebSite    http://headjs.com\n */\n(function (win, undefined) {\n    \"use strict\";\n\n    //#region variables\n    var doc        = win.document,\n        domWaiters = [],\n        handlers   = {}, // user functions waiting for events\n        assets     = {}, // loadable items in various states\n        isAsync    = \"async\" in doc.createElement(\"script\") || \"MozAppearance\" in doc.documentElement.style || win.opera,\n        isDomReady,\n\n        /*** public API ***/\n        headVar = win.head_conf && win.head_conf.head || \"head\",\n        api     = win[headVar] = (win[headVar] || function () { api.ready.apply(null, arguments); }),\n\n        // states\n        PRELOADING = 1,\n        PRELOADED  = 2,\n        LOADING    = 3,\n        LOADED     = 4;\n    //#endregion\n\n    //#region PRIVATE functions\n\n    //#region Helper functions\n    function noop() {\n        // does nothing\n    }\n\n    function each(arr, callback) {\n        if (!arr) {\n            return;\n        }\n\n        // arguments special type\n        if (typeof arr === \"object\") {\n            arr = [].slice.call(arr);\n        }\n\n        // do the job\n        for (var i = 0, l = arr.length; i < l; i++) {\n            callback.call(arr, arr[i], i);\n        }\n    }\n\n    /* A must read: http://bonsaiden.github.com/JavaScript-Garden\n     ************************************************************/\n    function is(type, obj) {\n        var clas = Object.prototype.toString.call(obj).slice(8, -1);\n        return obj !== undefined && obj !== null && clas === type;\n    }\n\n    function isFunction(item) {\n        return is(\"Function\", item);\n    }\n\n    function isArray(item) {\n        return is(\"Array\", item);\n    }\n\n    function toLabel(url) {\n        ///<summary>Converts a url to a file label</summary>\n        var items = url.split(\"/\"),\n             name = items[items.length - 1],\n             i    = name.indexOf(\"?\");\n\n        return i !== -1 ? name.substring(0, i) : name;\n    }\n\n    // INFO: this look like a \"im triggering callbacks all over the place, but only wanna run it one time function\" ..should try to make everything work without it if possible\n    // INFO: Even better. Look into promises/defered's like jQuery is doing\n    function one(callback) {\n        ///<summary>Execute a callback only once</summary>\n        callback = callback || noop;\n\n        if (callback._done) {\n            return;\n        }\n\n        callback();\n        callback._done = 1;\n    }\n    //#endregion\n\n    function conditional(test, success, failure, callback) {\n        ///<summary>\n        /// INFO: use cases:\n        ///    head.test(condition, null       , \"file.NOk\" , callback);\n        ///    head.test(condition, \"fileOk.js\", null       , callback);\n        ///    head.test(condition, \"fileOk.js\", \"file.NOk\" , callback);\n        ///    head.test(condition, \"fileOk.js\", [\"file.NOk\", \"file.NOk\"], callback);\n        ///    head.test({\n        ///               test    : condition,\n        ///               success : [{ label1: \"file1Ok.js\"  }, { label2: \"file2Ok.js\" }],\n        ///               failure : [{ label1: \"file1NOk.js\" }, { label2: \"file2NOk.js\" }],\n        ///               callback: callback\n        ///    );\n        ///    head.test({\n        ///               test    : condition,\n        ///               success : [\"file1Ok.js\" , \"file2Ok.js\"],\n        ///               failure : [\"file1NOk.js\", \"file2NOk.js\"],\n        ///               callback: callback\n        ///    );\n        ///</summary>\n        var obj = (typeof test === \"object\") ? test : {\n            test: test,\n            success: !!success ? isArray(success) ? success : [success] : false,\n            failure: !!failure ? isArray(failure) ? failure : [failure] : false,\n            callback: callback || noop\n        };\n\n        // Test Passed ?\n        var passed = !!obj.test;\n\n        // Do we have a success case\n        if (passed && !!obj.success) {\n            obj.success.push(obj.callback);\n            api.load.apply(null, obj.success);\n        }\n        // Do we have a fail case\n        else if (!passed && !!obj.failure) {\n            obj.failure.push(obj.callback);\n            api.load.apply(null, obj.failure);\n        }\n        else {\n            callback();\n        }\n\n        return api;\n    }\n\n    function getAsset(item) {\n        ///<summary>\n        /// Assets are in the form of\n        /// {\n        ///     name : label,\n        ///     url  : url,\n        ///     state: state\n        /// }\n        ///</summary>\n        var asset = {};\n\n        if (typeof item === \"object\") {\n            for (var label in item) {\n                if (!!item[label]) {\n                    asset = {\n                        name: label,\n                        url : item[label]\n                    };\n                }\n            }\n        }\n        else {\n            asset = {\n                name: toLabel(item),\n                url : item\n            };\n        }\n\n        // is the item already existant\n        var existing = assets[asset.name];\n        if (existing && existing.url === asset.url) {\n            return existing;\n        }\n\n        assets[asset.name] = asset;\n        return asset;\n    }\n\n    function allLoaded(items) {\n        items = items || assets;\n\n        for (var name in items) {\n            if (items.hasOwnProperty(name) && items[name].state !== LOADED) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function onPreload(asset) {\n        asset.state = PRELOADED;\n\n        each(asset.onpreload, function (afterPreload) {\n            afterPreload.call();\n        });\n    }\n\n    function preLoad(asset, callback) {\n        if (asset.state === undefined) {\n\n            asset.state     = PRELOADING;\n            asset.onpreload = [];\n\n            loadAsset({ url: asset.url, type: \"cache\" }, function () {\n                onPreload(asset);\n            });\n        }\n    }\n\n    function apiLoadHack() {\n        /// <summary>preload with text/cache hack\n        ///\n        /// head.load(\"http://domain.com/file.js\",\"http://domain.com/file.js\", callBack)\n        /// head.load([\"http://domain.com/file.js\",\"http://domain.com/file.js\"], callBack)\n        /// head.load({ label1: \"http://domain.com/file.js\" }, { label2: \"http://domain.com/file.js\" }, callBack)\n        /// head.load([{ label1: \"http://domain.com/file.js\" }, { label2: \"http://domain.com/file.js\" }], callBack)\n        /// </summary>\n        var args     = arguments,\n            callback = args[args.length - 1],\n            rest     = [].slice.call(args, 1),\n            next     = rest[0];\n\n        if (!isFunction(callback)) {\n            callback = null;\n        }\n\n        // if array, repush as args\n        if (isArray(args[0])) {\n            args[0].push(callback);\n            api.load.apply(null, args[0]);\n\n            return api;\n        }\n\n        // multiple arguments\n        if (!!next) {\n            /* Preload with text/cache hack (not good!)\n             * http://blog.getify.com/on-script-loaders/\n             * http://www.nczonline.net/blog/2010/12/21/thoughts-on-script-loaders/\n             * If caching is not configured correctly on the server, then items could load twice !\n             *************************************************************************************/\n            each(rest, function (item) {\n                // item is not a callback or empty string\n                if (!isFunction(item) && !!item) {\n                    preLoad(getAsset(item));\n                }\n            });\n\n            // execute\n            load(getAsset(args[0]), isFunction(next) ? next : function () {\n                api.load.apply(null, rest);\n            });\n        }\n        else {\n            // single item\n            load(getAsset(args[0]));\n        }\n\n        return api;\n    }\n\n    function apiLoadAsync() {\n        ///<summary>\n        /// simply load and let browser take care of ordering\n        ///\n        /// head.load(\"http://domain.com/file.js\",\"http://domain.com/file.js\", callBack)\n        /// head.load([\"http://domain.com/file.js\",\"http://domain.com/file.js\"], callBack)\n        /// head.load({ label1: \"http://domain.com/file.js\" }, { label2: \"http://domain.com/file.js\" }, callBack)\n        /// head.load([{ label1: \"http://domain.com/file.js\" }, { label2: \"http://domain.com/file.js\" }], callBack)\n        ///</summary>\n        var args     = arguments,\n            callback = args[args.length - 1],\n            items    = {};\n\n        if (!isFunction(callback)) {\n            callback = null;\n        }\n\n        // if array, repush as args\n        if (isArray(args[0])) {\n            args[0].push(callback);\n            api.load.apply(null, args[0]);\n\n            return api;\n        }\n\n        // JRH 262#issuecomment-26288601\n        // First populate the items array.\n        // When allLoaded is called, all items will be populated.\n        // Issue when lazy loaded, the callback can execute early.\n        each(args, function (item, i) {\n            if (item !== callback) {\n                item             = getAsset(item);\n                items[item.name] = item;\n            }\n        });\n\n        each(args, function (item, i) {\n            if (item !== callback) {\n                item = getAsset(item);\n\n                load(item, function () {\n                    if (allLoaded(items)) {\n                        one(callback);\n                    }\n                });\n            }\n        });\n\n        return api;\n    }\n\n    function load(asset, callback) {\n        ///<summary>Used with normal loading logic</summary>\n        callback = callback || noop;\n\n        if (asset.state === LOADED) {\n            callback();\n            return;\n        }\n\n        // INFO: why would we trigger a ready event when its not really loaded yet ?\n        if (asset.state === LOADING) {\n            api.ready(asset.name, callback);\n            return;\n        }\n\n        if (asset.state === PRELOADING) {\n            asset.onpreload.push(function () {\n                load(asset, callback);\n            });\n            return;\n        }\n\n        asset.state = LOADING;\n\n        loadAsset(asset, function () {\n            asset.state = LOADED;\n\n            callback();\n\n            // handlers for this asset\n            each(handlers[asset.name], function (fn) {\n                one(fn);\n            });\n\n            // dom is ready & no assets are queued for loading\n            // INFO: shouldn't we be doing the same test above ?\n            if (isDomReady && allLoaded()) {\n                each(handlers.ALL, function (fn) {\n                    one(fn);\n                });\n            }\n        });\n    }\n\n    function getExtension(url) {\n        url = url || \"\";\n\n        var items = url.split(\"?\")[0].split(\".\");\n        return items[items.length-1].toLowerCase();\n    }\n\n    /* Parts inspired from: https://github.com/cujojs/curl\n    ******************************************************/\n    function loadAsset(asset, callback) {\n        callback = callback || noop;\n\n        function error(event) {\n            event = event || win.event;\n\n            // release event listeners\n            ele.onload = ele.onreadystatechange = ele.onerror = null;\n\n            // do callback\n            callback();\n\n            // need some more detailed error handling here\n        }\n\n        function process(event) {\n            event = event || win.event;\n\n            // IE 7/8 (2 events on 1st load)\n            // 1) event.type = readystatechange, s.readyState = loading\n            // 2) event.type = readystatechange, s.readyState = loaded\n\n            // IE 7/8 (1 event on reload)\n            // 1) event.type = readystatechange, s.readyState = complete\n\n            // event.type === 'readystatechange' && /loaded|complete/.test(s.readyState)\n\n            // IE 9 (3 events on 1st load)\n            // 1) event.type = readystatechange, s.readyState = loading\n            // 2) event.type = readystatechange, s.readyState = loaded\n            // 3) event.type = load            , s.readyState = loaded\n\n            // IE 9 (2 events on reload)\n            // 1) event.type = readystatechange, s.readyState = complete\n            // 2) event.type = load            , s.readyState = complete\n\n            // event.type === 'load'             && /loaded|complete/.test(s.readyState)\n            // event.type === 'readystatechange' && /loaded|complete/.test(s.readyState)\n\n            // IE 10 (3 events on 1st load)\n            // 1) event.type = readystatechange, s.readyState = loading\n            // 2) event.type = load            , s.readyState = complete\n            // 3) event.type = readystatechange, s.readyState = loaded\n\n            // IE 10 (3 events on reload)\n            // 1) event.type = readystatechange, s.readyState = loaded\n            // 2) event.type = load            , s.readyState = complete\n            // 3) event.type = readystatechange, s.readyState = complete\n\n            // event.type === 'load'             && /loaded|complete/.test(s.readyState)\n            // event.type === 'readystatechange' && /complete/.test(s.readyState)\n\n            // Other Browsers (1 event on 1st load)\n            // 1) event.type = load, s.readyState = undefined\n\n            // Other Browsers (1 event on reload)\n            // 1) event.type = load, s.readyState = undefined\n\n            // event.type == 'load' && s.readyState = undefined\n\n            // !doc.documentMode is for IE6/7, IE8+ have documentMode\n            if (event.type === \"load\" || (/loaded|complete/.test(ele.readyState) && (!doc.documentMode || doc.documentMode < 9))) {\n                // remove timeouts\n                win.clearTimeout(asset.errorTimeout);\n                win.clearTimeout(asset.cssTimeout);\n\n                // release event listeners\n                ele.onload = ele.onreadystatechange = ele.onerror = null;\n\n                // do callback   \n                callback();\n            }\n        }\n\n        function isCssLoaded() {\n            // should we test again ? 20 retries = 5secs ..after that, the callback will be triggered by the error handler at 7secs\n            if (asset.state !== LOADED && asset.cssRetries <= 20) {\n\n                // loop through stylesheets\n                for (var i = 0, l = doc.styleSheets.length; i < l; i++) {\n                    // do we have a match ?\n                    // we need to tests agains ele.href and not asset.url, because a local file will be assigned the full http path on a link element\n                    if (doc.styleSheets[i].href === ele.href) {\n                        process({ \"type\": \"load\" });\n                        return;\n                    }\n                }\n\n                // increment & try again\n                asset.cssRetries++;\n                asset.cssTimeout = win.setTimeout(isCssLoaded, 250);\n            }\n        }\n\n        var ele;\n        var ext = getExtension(asset.url);\n\n        if (ext === \"css\") {\n            ele      = doc.createElement(\"link\");\n            ele.type = \"text/\" + (asset.type || \"css\");\n            ele.rel  = \"stylesheet\";\n            ele.href = asset.url;\n\n            /* onload supported for CSS on unsupported browsers\n             * Safari windows 5.1.7, FF < 10\n             */\n\n            // Set counter to zero\n            asset.cssRetries = 0;\n            asset.cssTimeout = win.setTimeout(isCssLoaded, 500);         \n        }\n        else {\n            ele      = doc.createElement(\"script\");\n            ele.type = \"text/\" + (asset.type || \"javascript\");\n            ele.src = asset.url;\n        }\n\n        ele.onload  = ele.onreadystatechange = process;\n        ele.onerror = error;\n\n        /* Good read, but doesn't give much hope !\n         * http://blog.getify.com/on-script-loaders/\n         * http://www.nczonline.net/blog/2010/12/21/thoughts-on-script-loaders/\n         * https://hacks.mozilla.org/2009/06/defer/\n         */\n\n        // ASYNC: load in parallel and execute as soon as possible\n        ele.async = false;\n        // DEFER: load in parallel but maintain execution order\n        ele.defer = false;\n\n        // timout for asset loading\n        asset.errorTimeout = win.setTimeout(function () {\n            error({ type: \"timeout\" });\n        }, 7e3);\n\n        // use insertBefore to keep IE from throwing Operation Aborted (thx Bryan Forbes!)\n        var head = doc.head || doc.getElementsByTagName(\"head\")[0];\n\n        // but insert at end of head, because otherwise if it is a stylesheet, it will not override values      \n        head.insertBefore(ele, head.lastChild);\n    }\n\n    /* Parts inspired from: https://github.com/jrburke/requirejs\n    ************************************************************/\n    function init() {\n        var items = doc.getElementsByTagName(\"script\");\n\n        // look for a script with a data-head-init attribute\n        for (var i = 0, l = items.length; i < l; i++) {\n            var dataMain = items[i].getAttribute(\"data-headjs-load\");\n            if (!!dataMain) {\n                api.load(dataMain);\n                return;\n            }\n        }\n    }\n\n    function ready(key, callback) {\n        ///<summary>\n        /// INFO: use cases:\n        ///    head.ready(callBack);\n        ///    head.ready(document , callBack);\n        ///    head.ready(\"file.js\", callBack);\n        ///    head.ready(\"label\"  , callBack);\n        ///    head.ready([\"label1\", \"label2\"], callback);\n        ///</summary>\n\n        // DOM ready check: head.ready(document, function() { });\n        if (key === doc) {\n            if (isDomReady) {\n                one(callback);\n            }\n            else {\n                domWaiters.push(callback);\n            }\n\n            return api;\n        }\n\n        // shift arguments\n        if (isFunction(key)) {\n            callback = key;\n            key      = \"ALL\"; // holds all callbacks that where added without labels: ready(callBack)\n        }\n\n        // queue all items from key and return. The callback will be executed if all items from key are already loaded.\n        if (isArray(key)) {\n            var items = {};\n\n            each(key, function (item) {\n                items[item] = assets[item];\n\n                api.ready(item, function() {\n                    if (allLoaded(items)) {\n                        one(callback);\n                    }\n                });\n            });\n\n            return api;\n        }\n\n        // make sure arguments are sane\n        if (typeof key !== \"string\" || !isFunction(callback)) {\n            return api;\n        }\n\n        // this can also be called when we trigger events based on filenames & labels\n        var asset = assets[key];\n\n        // item already loaded --> execute and return\n        if (asset && asset.state === LOADED || key === \"ALL\" && allLoaded() && isDomReady) {\n            one(callback);\n            return api;\n        }\n\n        var arr = handlers[key];\n        if (!arr) {\n            arr = handlers[key] = [callback];\n        }\n        else {\n            arr.push(callback);\n        }\n\n        return api;\n    }\n\n    /* Mix of stuff from jQuery & IEContentLoaded\n     * http://dev.w3.org/html5/spec/the-end.html#the-end\n     ***************************************************/\n    function domReady() {\n        // Make sure body exists, at least, in case IE gets a little overzealous (jQuery ticket #5443).\n        if (!doc.body) {\n            // let's not get nasty by setting a timeout too small.. (loop mania guaranteed if assets are queued)\n            win.clearTimeout(api.readyTimeout);\n            api.readyTimeout = win.setTimeout(domReady, 50);\n            return;\n        }\n\n        if (!isDomReady) {\n            isDomReady = true;\n\n            init();\n            each(domWaiters, function (fn) {\n                one(fn);\n            });\n        }\n    }\n\n    function domContentLoaded() {\n        // W3C\n        if (doc.addEventListener) {\n            doc.removeEventListener(\"DOMContentLoaded\", domContentLoaded, false);\n            domReady();\n        }\n\n        // IE\n        else if (doc.readyState === \"complete\") {\n            // we're here because readyState === \"complete\" in oldIE\n            // which is good enough for us to call the dom ready!\n            doc.detachEvent(\"onreadystatechange\", domContentLoaded);\n            domReady();\n        }\n    }\n\n    // Catch cases where ready() is called after the browser event has already occurred.\n    // we once tried to use readyState \"interactive\" here, but it caused issues like the one\n    // discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15\n    if (doc.readyState === \"complete\") {\n        domReady();\n    }\n\n    // W3C\n    else if (doc.addEventListener) {\n        doc.addEventListener(\"DOMContentLoaded\", domContentLoaded, false);\n\n        // A fallback to window.onload, that will always work\n        win.addEventListener(\"load\", domReady, false);\n    }\n\n    // IE\n    else {\n        // Ensure firing before onload, maybe late but safe also for iframes\n        doc.attachEvent(\"onreadystatechange\", domContentLoaded);\n\n        // A fallback to window.onload, that will always work\n        win.attachEvent(\"onload\", domReady);\n\n        // If IE and not a frame\n        // continually check to see if the document is ready\n        var top = false;\n\n        try {\n            top = !win.frameElement && doc.documentElement;\n        } catch (e) { }\n\n        if (top && top.doScroll) {\n            (function doScrollCheck() {\n                if (!isDomReady) {\n                    try {\n                        // Use the trick by Diego Perini\n                        // http://javascript.nwbox.com/IEContentLoaded/\n                        top.doScroll(\"left\");\n                    } catch (error) {\n                        // let's not get nasty by setting a timeout too small.. (loop mania guaranteed if assets are queued)\n                        win.clearTimeout(api.readyTimeout);\n                        api.readyTimeout = win.setTimeout(doScrollCheck, 50);\n                        return;\n                    }\n\n                    // and execute any waiting functions\n                    domReady();\n                }\n            }());\n        }\n    }\n    //#endregion\n\n    //#region Public Exports\n    // INFO: determine which method to use for loading\n    api.load  = api.js = isAsync ? apiLoadAsync : apiLoadHack;\n    api.test  = conditional;\n    api.ready = ready;\n    //#endregion\n\n    //#region INIT\n    // perform this when DOM is ready\n    api.ready(doc, function () {\n        if (allLoaded()) {\n            each(handlers.ALL, function (callback) {\n                one(callback);\n            });\n        }\n\n        if (api.feature) {\n            api.feature(\"domloaded\", true);\n        }\n    });\n    //#endregion\n}(window));\n","if ( window.console === undefined ) {\n    window.console = {\n        log : function() { }\n    }\n}\n\n// IE11 POLYFILL\nif (!Element.prototype.matches) {\n  Element.prototype.matches = Element.prototype.msMatchesSelector ||\n                              Element.prototype.webkitMatchesSelector;\n}\n\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function(s) {\n    var el = this;\n\n    do {\n      if (el.matches(s)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n  };\n}\nif (window.NodeList && !NodeList.prototype.forEach) {\n    NodeList.prototype.forEach = function (callback, thisArg) {\n        thisArg = thisArg || window;\n        for (var i = 0; i < this.length; i++) {\n            callback.call(thisArg, this[i], i, this);\n        }\n    };\n}\n\nvar docCookies = {\n  getItem: function (sKey) {\n    if (!sKey) { return null; }\n    return decodeURIComponent(document.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")) || null;\n  },\n  setItem: function (sKey, sValue, vEnd, sPath, sDomain, bSecure) {\n    if (!sKey || /^(?:expires|max\\-age|path|domain|secure)$/i.test(sKey)) { return false; }\n    var sExpires = \"\";\n    if (vEnd) {\n      switch (vEnd.constructor) {\n        case Number:\n          sExpires = vEnd === Infinity ? \"; expires=Fri, 31 Dec 9999 23:59:59 GMT\" : \"; max-age=\" + vEnd;\n          break;\n        case String:\n          sExpires = \"; expires=\" + vEnd;\n          break;\n        case Date:\n          sExpires = \"; expires=\" + vEnd.toUTCString();\n          break;\n      }\n    }\n    document.cookie = encodeURIComponent(sKey) + \"=\" + encodeURIComponent(sValue) + sExpires + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\") + (bSecure ? \"; secure\" : \"\");\n    return true;\n  },\n  removeItem: function (sKey, sPath, sDomain) {\n    if (!this.hasItem(sKey)) { return false; }\n    document.cookie = encodeURIComponent(sKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT\" + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\");\n    return true;\n  },\n  hasItem: function (sKey) {\n    if (!sKey) { return false; }\n    return (new RegExp(\"(?:^|;\\\\s*)\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(document.cookie);\n  },\n  keys: function () {\n    var aKeys = document.cookie.replace(/((?:^|\\s*;)[^\\=]+)(?=;|$)|^\\s*|\\s*(?:\\=[^;]*)?(?:\\1|$)/g, \"\").split(/\\s*(?:\\=[^;]*)?;\\s*/);\n    for (var nLen = aKeys.length, nIdx = 0; nIdx < nLen; nIdx++) { aKeys[nIdx] = decodeURIComponent(aKeys[nIdx]); }\n    return aKeys;\n  }\n};\n\nvar HT = HT || {};\n\n(function() {\n    var prefix = '/';\n\n    if ( window.jQuery ) {\n        window.old_jQuery = window.jQuery;\n    }\n\n    HT.service_domain = 'babel.hathitrust.org';\n    HT.catalog_domain = 'catalog.hathitrust.org';\n    HT.www_domain = 'www.hathitrust.org';\n\n    // figure out if we're in dev or not\n    var hostname = location.hostname;\n    HT.is_dev = ( hostname != 'www.hathitrust.org' ) && ( hostname != 'catalog.hathitrust.org' ) && ( hostname != 'babel.hathitrust.org' );\n\n    // are we babel or not?\n    HT.is_babel = ( hostname.indexOf(\"babel.hathitrust.org\") > -1 );\n\n    if ( HT.is_dev ) {\n        var prefix = hostname.split(\".\")[0];\n        if ( prefix == 'mrnibbs' ) {\n            HT.service_domain = hostname;\n            HT.catalog_domain = hostname;\n            HT.www_domain = hostname;\n            // HT.www_domain = 'test.www.hathitrusg.org';\n        } else {\n            // make this more robust later\n            var babel_prefix = prefix;\n            if ( hostname == 'test.www.hathitrust.org' ) {\n                babel_prefix = 'test'; // beta-3';\n                prefix = 'test'; // beta-3';\n            }\n            if ( ! babel_prefix.match(/beta-|preview|test/) && ! babel_prefix.match('-full') ) { babel_prefix += '-full'; }\n            if ( prefix.match('-full') ) { prefix = prefix.replace('-full', ''); }\n            HT.service_domain = babel_prefix + '.babel.hathitrust.org';\n            HT.catalog_domain = prefix + '.catalog.hathitrust.org';\n            HT.www_domain = prefix + '.www.hathitrust.org';\n        }\n    }\n\n\n    document.addEventListener('DOMContentLoaded', function(event) {\n\n        if ( \n            ( window.location.href.indexOf('babel.hathitrust.org') < 0 ) &&\n            ( window.location.href.indexOf('signon=') > -1 )        \n        ) {\n            // try to do the shibboleth dance\n            var tmp = location.href.split('signon=swle:');\n            var entityId = tmp.pop();\n            var target = tmp[0];\n            if ( document.querySelector('#logout-link') || document.querySelector('.logout-link') ) {\n                history.replaceState({}, document.title, target);\n            } else {\n                var pong_target = encodeURIComponent(`https://${HT.service_domain}/cgi/ping/pong?target=${target}`);\n                var redirect_href;\n                if ( entityId == 'wayf' ) {\n                    redirect_href = `https://${HT.service_domain}/cgi/wayf?target=${pong_target}`;\n                } else {\n                    redirect_href = `https://${HT.service_domain}/Shibboleth.sso/Login?entityID=${entityId}&target=${pong_target}`;\n                }\n                window.location.href = redirect_href;\n            }\n        }\n    })\n\n    // const cookie = name => `; ${document.cookie}`.split(`; ${name}=`).pop().split(';').shift();\n    HT.prefs = {};\n    HT.prefs.get = function() {\n        var prefs = {};\n        // try {\n        //     prefs = $.cookie('HT.prefs', undefined, { json : true }) || {};\n        // } catch (e) {\n        //     // just null the prefs\n        //     $.removeCookie(\"HT.prefs\");\n        //     prefs = {};\n        // }\n\n        try {\n            prefs = JSON.parse(docCookies.getItem('HT.prefs') || '{}');\n        } catch (e) {\n            // just null the prefs\n            docCookies.removeItem(\"HT.prefs\");\n            prefs = {};\n        }\n        return prefs;\n    };\n\n    HT.prefs.set = function(params) {\n        var prefs = HT.prefs.get();\n        prefs = Object.assign({}, prefs, params);\n        try {\n            var expires = new Date();\n            expires.setDate(expires.getDate() + 90);\n            docCookies.setItem('HT.prefs', JSON.stringify(prefs), expires, '/', '.hathitrust.org', true);\n        } catch(e) {\n            // noop\n        }\n\n        // prefs = $.extend({}, prefs, params);\n        // try {\n        //     $.cookie('HT.prefs', prefs, { json : true, domain : '.hathitrust.org', path : '/', expires : 90 });\n        // } catch (e) {\n        //     // noop\n        // }\n    };\n\n    HT.scripts = [];\n\n    var $rootStatus;\n    HT.update_status = function(message) {\n        if ( $rootStatus === undefined ) { $rootStatus = document.querySelector(\"#root > div[role=status]\"); }\n        var $status = $rootStatus;\n        if ( window.bootbox && window.bootbox.active() ) {\n            // $status = $(window.bootbox.active().modal).find('div[role=\"status\"]');\n            $status = window.bootbox.active().modal.querySelector('div[role=\"status\"]');\n        }\n        if ( ! $status ) { return ; }\n        HT._update_status($status, message);\n    }\n\n    var lastMessage; var lastTimer;\n    HT._update_status = function($status, message) {\n        if ( message == '--') {\n            lastMessage = message;\n            return;\n        }\n        if ( lastMessage != message ) {\n          if ( lastTimer ) { clearTimeout(lastTimer); lastTimer = null; }\n\n          var clearDelay = HT.params && HT.params.debug == 'polite' ? 2000 : 500;\n          setTimeout(() => {\n            //$status.text(message);\n            $status.innerText = message;\n            lastMessage = message;\n            console.log(\"-- status:\", message);\n          }, 50);\n          lastTimer = setTimeout(() => {\n            // $status.get(0).innerText = '';\n            $status.innerText = '';\n          }, clearDelay);\n\n        }\n    }\n\n    var $html = document.querySelector(\"html\");\n    var __get_vh = function() {\n        var vh = window.innerHeight;\n        // if ( navigator.userAgent.match(/iphone|ipod|ipad/i) && window.visualViewport ) { vh *= window.visualViewport.scale; }\n        if ( window.visualViewport && window.visualViewport.scale != 1 ) {\n            vh = window.visualViewport.height * window.visualViewport.scale;\n        }\n        return vh;\n    };\n\n    var vh = __get_vh() * 0.01; // window.innerHeight * 0.01;\n    document.documentElement.style.setProperty('--vh', vh + 'px');\n\n    var t = 0;; var lastwh = 0;\n    window.tx = setInterval(function() {\n        t += 100;\n        var vh = __get_vh();\n        if ( vh != lastwh ) {\n            lastwh = vh;\n\n            // var vh = window.innerHeight * 0.01;\n            document.documentElement.style.setProperty('--vh', ( vh * 0.01 ) + 'px');\n\n            var event = document.createEvent('UIEvents');\n            event.initEvent('resize', true, false, window, 0);\n            window.dispatchEvent(event)\n        }\n    }, 100);\n\n    setTimeout(function() {\n        // vh = window.innerHeight * 0.01;\n        var vh = __get_vh() * 0.01;\n        document.documentElement.style.setProperty('--vh', vh + 'px');\n    }, 500);\n\n    window.addEventListener('resize', function() {\n        var vh = __get_vh() * 0.01; // window.innerHeight * 0.01;\n        document.documentElement.style.setProperty('--vh', vh + 'px');\n    });\n\n    window.addEventListener(\"orientationchange\", function() {\n        setTimeout(function() {\n            var vh = __get_vh() * 0.01; // window.innerHeight * 0.01;\n            document.documentElement.style.setProperty('--vh', vh + 'px');\n\n            if ( HT && HT.utils && HT.utils.handleOrientationChange ) {\n                HT.utils.handleOrientationChange();\n            }\n        }, 500);\n    })\n\n    window.addEventListener('beforeunload', function(event) {\n        if ( HT.disableUnloadTimeout ) { return ; }\n        var timeout = HT.beforeUnloadTimeout || 5000;\n        setTimeout(function() {\n            var div = document.createElement('div');\n            div.classList.add('wait-for-it');\n            document.body.appendChild(div);\n            setTimeout(function() {\n                document.body.removeChild(div);\n            }, timeout);\n        }, 501);\n        // setTimeout(function() {\n        //     $('<div class=\"wait-for-it\"></div>').appendTo(\"body\");\n        //     setTimeout(function() {\n        //         $(\".wait-for-it\").remove();\n        //     }, timeout); // maybe something went wrong\n        // }, 501);\n    })\n\n    setTimeout(() => {\n        var event = document.createEvent('UIEvents');\n        event.initEvent('resize', true, false, window, 0);\n        window.dispatchEvent(event)\n    }, 100);\n\n    if ( navigator && navigator.userAgent && navigator.userAgent.match(/Edge\\/1[678]/) ) {\n        document.documentElement.classList.add('edge');\n    }\n\n    // var $alert = $(\".alert\");\n    // if ( $alert.length ) {\n    //     // have alerts that were drawn on the page so read them aloud\n    //     HT.update_status($alert.text());\n    // }\n\n    var scripts = [ '/common/alicorn/js/utils.bundle.js' ];\n    head.js.apply(this, scripts);\n\n})();\n"]}